{"version":3,"file":"preview.js","mappings":"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","sources":["webpack://thimpress-customizer/./src/postmessage/index.ts","webpack://thimpress-customizer/external window [\"wp\",\"hooks\"]","webpack://thimpress-customizer/webpack/bootstrap","webpack://thimpress-customizer/webpack/runtime/compat get default export","webpack://thimpress-customizer/webpack/runtime/define property getters","webpack://thimpress-customizer/webpack/runtime/hasOwnProperty shorthand","webpack://thimpress-customizer/webpack/runtime/make namespace object","webpack://thimpress-customizer/./src/Preview.ts"],"sourcesContent":["import { applyFilters } from '@wordpress/hooks';\n\nconst thimPostMessage = {\n\n    fields: {},\n\n    styleTag: {\n\n        add: function (id) {\n            id = id.replace(/[^\\w\\s]/gi, '-');\n            if (null === document.getElementById('thim-postmessage-' + id) || 'undefined' === typeof document.getElementById('thim-postmessage-' + id)) {\n                jQuery('head').append('<style id=\"thim-customizer-postmessage-' + id + '\"></style>');\n            }\n        },\n\n        addData: function (id, styles) {\n            id = id.replace('[', '-').replace(']', '');\n            thimPostMessage.styleTag.add(id);\n            jQuery('#thim-customizer-postmessage-' + id).text(styles);\n        }\n    },\n\n    util: {\n\n        processValue: function (output, value) {\n            var self = this,\n                settings = window.parent.wp.customize.get(),\n                excluded = false;\n\n            if ('object' === typeof value) {\n                _.each(value, function (subValue, key) {\n                    value[key] = self.processValue(output, subValue);\n                });\n                return value;\n            }\n            output = _.defaults(output, {\n                prefix: '',\n                units: '',\n                suffix: '',\n                value_pattern: '$',\n                pattern_replace: {},\n                exclude: []\n            });\n\n            if (1 <= output.exclude.length) {\n                _.each(output.exclude, function (exclusion) {\n                    if (value == exclusion) {\n                        excluded = true;\n                    }\n                });\n            }\n\n            if (excluded) {\n                return false;\n            }\n\n            value = output.value_pattern.replace(new RegExp('\\\\$', 'g'), value);\n            _.each(output.pattern_replace, function (id, placeholder) {\n                if (!_.isUndefined(settings[id])) {\n                    value = value.replace(placeholder, settings[id]);\n                }\n            });\n            return output.prefix + value + output.units + output.suffix;\n        },\n\n        backgroundImageValue: function (url) {\n            return (-1 === url.indexOf('url(')) ? 'url(' + url + ')' : url;\n        }\n    },\n\n    css: {\n\n        fromOutput: function (output, value, controlType) {\n            var styles = '',\n                mediaQuery = false,\n                processedValue;\n\n            try {\n                value = JSON.parse(value);\n            } catch (e) { }\n\n            if (output.js_callback && 'function' === typeof window[output.js_callback]) {\n                value = window[output.js_callback[0]](value, output.js_callback[1]);\n            }\n\n            styles = applyFilters('thimCustomizerPostMessageStylesOutput', styles, value, output, controlType);\n\n            if ('' === styles) {\n                switch (controlType) {\n                    case 'thim-multicolor':\n                    case 'thim-sortable':\n                        styles += output.element + '{';\n                        _.each(value, function (val, key) {\n                            if (output.choice && key !== output.choice) {\n                                return;\n                            }\n\n                            processedValue = thimPostMessage.util.processValue(output, val);\n\n                            if ('' === processedValue) {\n                                if ('background-color' === output.property) {\n                                    processedValue = 'unset';\n                                } else if ('background-image' === output.property) {\n                                    processedValue = 'none';\n                                }\n                            }\n\n                            var customProperty = controlType === 'thim-sortable' ? output.property + '-' + key : output.property;\n\n                            if (false !== processedValue) {\n                                styles += output.property ? customProperty + \":\" + processedValue + \";\" : key + \":\" + processedValue + \";\";\n                            }\n                        });\n                        styles += '}';\n                        break;\n                    default:\n                        if ('thim-image' === controlType) {\n                            value = (!_.isUndefined(value.url)) ? thimPostMessage.util.backgroundImageValue(value.url) : thimPostMessage.util.backgroundImageValue(value);\n                        }\n                        if (_.isObject(value)) {\n                            styles += output.element + '{';\n                            _.each(value, function (val, key) {\n                                var property;\n                                if (output.choice && key !== output.choice) {\n                                    return;\n                                }\n                                processedValue = thimPostMessage.util.processValue(output, val);\n                                property = output.property ? output.property : key;\n\n                                if ('' === processedValue) {\n                                    if ('background-color' === property) {\n                                        processedValue = 'unset';\n                                    } else if ('background-image' === property) {\n                                        processedValue = 'none';\n                                    }\n                                }\n\n                                if (false !== processedValue) {\n                                    styles += property + ':' + processedValue + ';';\n                                }\n                            });\n                            styles += '}';\n                        } else {\n                            processedValue = thimPostMessage.util.processValue(output, value);\n                            if ('' === processedValue) {\n                                if ('background-color' === output.property) {\n                                    processedValue = 'unset';\n                                } else if ('background-image' === output.property) {\n                                    processedValue = 'none';\n                                }\n                            }\n\n                            if (false !== processedValue) {\n                                styles += output.element + '{' + output.property + ':' + processedValue + ';}';\n                            }\n                        }\n                        break;\n                }\n            }\n\n            if (output.media_query && 'string' === typeof output.media_query && !_.isEmpty(output.media_query)) {\n                mediaQuery = output.media_query;\n\n                if (-1 === mediaQuery.indexOf('@media')) {\n                    mediaQuery = '@media ' + mediaQuery;\n                }\n            }\n\n            if (mediaQuery) {\n                return mediaQuery + '{' + styles + '}';\n            }\n\n            return styles;\n        }\n    },\n\n    html: {\n        fromOutput: function (output, value) {\n            if (output.js_callback && 'function' === typeof window[output.js_callback]) {\n                value = window[output.js_callback[0]](value, output.js_callback[1]);\n            }\n\n            if (_.isObject(value) || _.isArray(value)) {\n                if (!output.choice) {\n                    return;\n                }\n                _.each(value, function (val, key) {\n                    if (output.choice && key !== output.choice) {\n                        return;\n                    }\n                    value = val;\n                });\n            }\n            value = thimPostMessage.util.processValue(output, value);\n\n            if (output.attr) {\n                jQuery(output.element).attr(output.attr, value);\n            } else {\n                jQuery(output.element).html(value);\n            }\n        }\n    },\n\n    toggleClass: {\n        fromOutput: function (output, value) {\n            if ('undefined' === typeof output.class || 'undefined' === typeof output.value) {\n                return;\n            }\n\n            if (value === output.value && !jQuery(output.element).hasClass(output.class)) {\n                jQuery(output.element).addClass(output.class);\n            } else {\n                jQuery(output.element).removeClass(output.class);\n            }\n        }\n    }\n};\n\nexport default function ThimPostMessageOutput() {\n    let styles: string = '';\n\n    _.each(thimPostMessageFields, function (field) {\n        var fieldSetting = field.id;\n\n        if (\"option\" === field.option_type && field.option_name && 0 !== fieldSetting.indexOf(field.option_name + '[')) {\n            fieldSetting = field.option_name + \"[\" + fieldSetting + \"]\";\n        }\n\n        wp.customize(fieldSetting, function (value) {\n            value.bind(function (newVal) {\n                styles = '';\n                _.each(field.js_vars, function (output) {\n                    output.function = (!output.function || 'undefined' === typeof thimPostMessage[output.function]) ? 'css' : output.function;\n                    field.type = (field.choices && field.choices.parent_type) ? field.choices.parent_type : field.type;\n\n                    if ('css' === output.function) {\n                        styles += thimPostMessage.css.fromOutput(output, newVal, field.type);\n                    } else {\n                        thimPostMessage[output.function].fromOutput(output, newVal, field.type);\n                    }\n                });\n\n                thimPostMessage.styleTag.addData(fieldSetting, styles);\n            });\n        });\n    });\n};\n","module.exports = window[\"wp\"][\"hooks\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","\nimport ThimPostMessageOutput from './postmessage';\n\njQuery(document).ready(function () {\n    ThimPostMessageOutput();\n});"],"names":["applyFilters","thimPostMessage","fields","styleTag","add","id","replace","document","getElementById","jQuery","append","addData","styles","text","util","processValue","output","value","self","settings","window","parent","wp","customize","get","excluded","_","each","subValue","key","defaults","prefix","units","suffix","value_pattern","pattern_replace","exclude","length","exclusion","RegExp","placeholder","isUndefined","backgroundImageValue","url","indexOf","css","fromOutput","controlType","mediaQuery","processedValue","JSON","parse","e","js_callback","element","val","choice","property","customProperty","isObject","media_query","isEmpty","html","isArray","attr","toggleClass","class","hasClass","addClass","removeClass","ThimPostMessageOutput","thimPostMessageFields","field","fieldSetting","option_type","option_name","bind","newVal","js_vars","function","type","choices","parent_type","ready"],"sourceRoot":""}