(()=>{"use strict";const e={};"undefined"!=typeof lpDataAdmin&&(e.admin={apiAdminNotice:lpDataAdmin.lp_rest_url+"lp/v1/admin/tools/admin-notices",apiAdminOrderStatic:lpDataAdmin.lp_rest_url+"lp/v1/orders/statistic",apiAddons:lpDataAdmin.lp_rest_url+"lp/v1/addon/all",apiAddonAction:lpDataAdmin.lp_rest_url+"lp/v1/addon/action-n",apiAddonsPurchase:lpDataAdmin.lp_rest_url+"lp/v1/addon/info-addons-purchase",apiSearchCourses:lpDataAdmin.lp_rest_url+"lp/v1/admin/tools/search-course",apiSearchUsers:lpDataAdmin.lp_rest_url+"lp/v1/admin/tools/search-user",apiAssignUserCourse:lpDataAdmin.lp_rest_url+"lp/v1/admin/tools/assign-user-course",apiUnAssignUserCourse:lpDataAdmin.lp_rest_url+"lp/v1/admin/tools/unassign-user-course",apiAJAX:lpDataAdmin.lp_rest_url+"lp/v1/load_content_via_ajax/"}),"undefined"!=typeof lpData&&(e.frontend={apiWidgets:lpData.lp_rest_url+"lp/v1/widgets/api",apiCourses:lpData.lp_rest_url+"lp/v1/courses/archive-course",apiAJAX:lpData.lp_rest_url+"lp/v1/load_content_via_ajax/",apiProfileCoverImage:lpData.lp_rest_url+"lp/v1/profile/cover-image"});const t=e;let n=null,s=null;const a=window.location.search,l=new URLSearchParams(a).get("tab"),r=(e="")=>{if(!lpGlobalSettings.is_admin)return;let a=l?`?tab=${l}`:"";a+=e?(l?"&":"?")+`${e}`:"",fetch(t.admin.apiAdminNotice+a,{method:"POST",headers:{"X-WP-Nonce":lpGlobalSettings.nonce}}).then((e=>e.json())).then((e=>{const{status:t,message:a,data:l}=e;"success"===t?"Dismissed!"!==a&&(s=l.content,0===s.length?n.style.display="none":(n.innerHTML=s,n.style.display="block",(()=>{try{const e=document.querySelector("#adminmenu");if(!e)return;const t=e.querySelector("#toplevel_page_learn_press");if(!t)return;const n=t.querySelector(".wp-menu-name");if(!n)return;const s=document.querySelector("input[name=lp-addons-new-version-totals]");if(!s)return;const a='<span class="tab-lp-admin-notice"></span>';n.insertAdjacentHTML("beforeend",a);const l=t.querySelector('a[href="admin.php?page=learn-press-addons"]');if(!l)return;const r=`<span style="margin-left: 5px" class="update-plugins">${s.value}</span>`;l.setAttribute("href","admin.php?page=learn-press-addons&tab=update"),l.insertAdjacentHTML("beforeend",r)}catch(e){console.log(e)}})())):s=a})).catch((e=>{console.log(e)}))};((e,t)=>{const n=document.querySelector(e);if(n)return void t();const s=new MutationObserver(((n,s)=>{const a=document.querySelector(e);a&&(s.disconnect(),t())}));s.observe(document.documentElement,{childList:!0,subtree:!0})})(".lp-admin-notices",(()=>{n=document.querySelector(".lp-admin-notices"),r()})),document.addEventListener("click",(e=>{const t=e.target;if(t.classList.contains("btn-lp-notice-dismiss")&&(e.preventDefault(),confirm("Are you sure you want to dismiss this notice?"))){const e=t.closest(".lp-notice");r(`dismiss=${t.getAttribute("data-dismiss")}`),e.remove(),0===n.querySelectorAll(".lp-notice").length&&(n.style.display="none")}}))})();